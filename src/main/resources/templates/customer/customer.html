<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
                xmlns:th="http://www.thymeleaf.org">
<head th:replace="layouts/layoutfragments :: head"></head>
<body>
    <div th:replace="layouts/layoutfragments :: navbar"></div>
<form method="post" th:object="${customer}" th:action="@{/customer/customer}">
    <th:block th:each="customer : ${customer}">
        <label>
            Personnummer:<br>
            <input type="text" name="socialSecurityNumber" th:value="${customer.socialSecurityNumber}"><br>
        </label>
        <label>
            Förnamn:<br>
            <input type="text" name="firstName" th:value="${customer.firstName}"><br>
        </label>
        <label>
            Efternamn:<br>
            <input type="text" name="lastName" th:value="${customer.lastName}"><br>
        </label>
        <label>
            Adress:<br>
            <input type="text" name="address" th:value="${customer.address}"><br>
        </label>
        <label>
            Postnummer:<br>
            <input type="text" name="zipCode" th:value="${customer.zipCode}"><br>
        </label>
        <label>
            Stad:<br>
            <input type="text" name="city" th:value="${customer.city}"><br>
        </label>
        <label>
            Land:<br>
            <input type="text" name="country" th:value="${customer.country}"><br>
        </label>
        <label>
            Telefonnummer:<br>
            <input type="text" name="phoneNumber" th:value="${customer.phoneNumber}"><br>
        </label>
        <label>
            E-mail:<br>
            <input type="email" name="email" th:value="${customer.email}"><br>
        </label>
        <button th:type="submit" name="action" value="change">Spara</button>
    </th:block>
</form>

<div class="container">
    <h2>Hyrda Filmer</h2>
    <table class="table">
        <tr>
            <th scope="col">Film id</th>
            <th scope="col">Namn</th>
            <th scope="col">Hyrdatum</th>
            <th scope="col">Åtelämningsdatum</th>
            <th scope="col"></th>
        </tr>

        <th:block th:each="rentedmovie : ${rentedmovies}">
            <tr class="table-row">
                <td scope="col" th:text="${rentedmovie.id}"></td>
                <td scope="col" th:text="${rentedmovie.movie.name}"></td>
                <td scope="col" th:text="${rentedmovie.rentedDate}"></td>
                <td scope="col" th:text="${rentedmovie.returnedDate}"></td>
                <td scope="col"></td>
            </tr>
        </th:block>
            <!--<tr>
                <td scope="col"></td>
                <td scope="col"></td>
                <td scope="col"></td>
                <td scope="col"></td>
                <td scope="col">
                    <form th:action="@{/customer/returnmovies}" th:object="${customer}" method="get">
                        <th:block th:each="customer : ${customer}">
                        <input type="hidden" name="socialSecurityNumber" th:value="${customer.socialSecurityNumber}" />
                        <button type="submit">Lämna in</button>
                        </th:block>
                    </form>
                </td>
            </tr>-->
    </table>
</div>

<div class="container">
    <h2>Filmhyrningshistorik</h2>
    <table class="table">
        <tr>
            <th scope="col">Film id</th>
            <th scope="col">Namn</th>
            <th scope="col">Hyrdatum</th>
        </tr>

        <th:block th:each="rentedmovie : ${rentedmovieshistory}">
            <tr class="table-row">
                <td th:text="${rentedmovie.id}"></td>
                <td th:text="${rentedmovie.movie.name}"></td>
                <td th:text="${rentedmovie.rentedDate}"></td>
            </tr>
        </th:block>
    </table>
</div>
<div th:replace="layouts/layoutfragments :: javascriptimports"></div>
</body>
</html>